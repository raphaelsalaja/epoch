.picker {
  --picker-grid-cols: 3;
  --gap-list: 12px;
  --gap-grid: 8px;

  --icon-size: 40px;
  --grid-item-size: 32px;

  --ring: 2px;
  --radius: 8px;
}

.picker[data-kind="list"] {
  display: flex;
  gap: var(--gap-list);
  align-items: center;
  align-self: stretch;
}

.picker[data-kind="grid"] {
  display: grid;
  grid-template-columns: repeat(var(--picker-grid-cols), minmax(0, 1fr));
  grid-auto-rows: 1fr;
  gap: var(--gap-grid);
}

.picker[data-kind="grid"] .item {
  inline-size: var(--grid-item-size);
  block-size: var(--grid-item-size);
}

.item {
  position: relative;
  display: inline-flex;
  place-content: center;
  place-items: center;
  cursor: pointer;
  user-select: none;
  -webkit-tap-highlight-color: transparent;
  transition:
    transform 0.2s ease,
    opacity 0.2s ease;
}

.item:focus-visible {
  outline: var(--ring) solid var(--blue);
  outline-offset: var(--ring);
}

.item[data-variant="icon"] {
  z-index: 1;
  inline-size: var(--icon-size);
  block-size: var(--icon-size);
  color: var(--grey);
  border: 2px solid transparent;
  border-radius: var(--radius);
}

.item[data-variant="icon"]::before {
  position: absolute;
  inset: -2px;
  z-index: -1;
  content: "";
  background: var(--border-primary);
  border-radius: var(--radius);
  opacity: 0;
  transform: scale(0.9);
  transition:
    opacity 0.2s ease,
    transform 0.2s ease;
}

.item[data-variant="icon"]:hover::before,
.item[data-variant="icon"][data-checked]::before,
.item[data-variant="icon"][data-state="checked"]::before {
  opacity: 1;
  transform: scale(1);
}

.item[data-variant="icon"][data-checked],
.item[data-variant="icon"][data-state="checked"] {
  color: var(--black);
}

.item[data-variant="color"] {
  inline-size: 100%;
  aspect-ratio: 1 / 1;
  padding: 5px;
  border-radius: 999px;
  transition: transform 0.2s ease;
}

.item[data-variant="color"]:active {
  transform: scale(0.96);
}

.item[data-variant="color"]::after {
  position: absolute;
  inset: 5px;
  pointer-events: none;
  content: "";
  border: 4px solid var(--white);
  border-radius: 999px;
  opacity: 0;
  transform: scale(0.88);
  transition:
    opacity 0.2s ease,
    transform 0.2s ease;
}

.item[data-variant="color"][data-checked]::after,
.item[data-variant="color"][data-state="checked"]::after {
  opacity: 1;
  transform: scale(1);
}

@media (prefers-reduced-motion: reduce) {
  .item,
  .item::before,
  .item::after {
    transition: none;
  }
}
